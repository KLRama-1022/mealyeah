<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MealYeah - PG Meal Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Add Google Fonts for a modern look -->
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>  
  
  <link rel="stylesheet" href="mealyeah.css" />
<script src="mealyeah.js" defer></script>

</head>
<body>

  <!-- Account Info Section -->
<div class="account-container">
  <div class="account-icon" onclick="toggleAccountDropdown()">
    <span style="font-size: 1.7em; color: #4b2e83;">üë§</span>
  </div>
  <div class="account-dropdown" id="accountDropdown">
    <div class="account-detail" id="accGreeting"><strong>Hello!</strong></div>
    <div class="account-detail" id="accRoomPG"></div>
  </div>
</div>

  <div class="container">
    <!-- Initial role selection -->
    <div id="roleSelect">
      <h2>Welcome to MealYeah üçΩÔ∏è</h2>
      <button onclick="selectRole('resident')">I am a Resident</button>
      <button onclick="selectRole('admin')">I am Admin</button>
    </div>

    <!-- Resident UI -->
    <!-- Resident UI -->
    <div id="residentUI" class="hidden">
      <h2>Resident Check-in</h2>

      <div id="residentStep1">
        <label>Name:</label><input type="text" id="resName" required />
        <label>Room No:</label><input type="text" id="resRoom" required />
        <label>Phone:</label><input type="text" id="resMobile" />
        <label>PG Name:</label><input type="text" id="resPG"/>
        <button onclick="continueResident()">Save & Continue</button>
      </div>


      <div id="residentStep2" class="hidden">
        <!-- Back Button at the top of the page -->
          <button class="back-button" onclick="goBackToRoleSelect()">‚¨Ö</button>
          <div class="menu-box">
          <p id="greetingText" style="font-weight: bold; color: #4CAF50;">Hello!</p>
          <p><strong>Tomorrow's Menu:</strong></p>
          <p>üç≥ Breakfast: <span id="menuBreakfast">--</span></p>
          <p>üçõ Lunch: <span id="menuLunch">--</span></p>
          <p>üçΩÔ∏è Dinner: <span id="menuDinner">--</span></p>
        </div>
        
        <h2><label>Will you eat tomorrow?</label></h2>
      <div>
        <label>Breakfast:</label>
        <select id="breakfastSelect">
          <option>Yes</option><option>No</option><option>Maybe</option>
        </select>
        <label>Lunch:</label>
        <select id="lunchSelect">
          <option>Yes</option><option>No</option><option>Maybe</option>
        </select>
        <label>Dinner:</label>
        <select id="dinnerSelect">
          <option>Yes</option><option>No</option><option>Maybe</option>
        </select>
        <button onclick="submitResponse()">Submit Response</button>
      </div></div>
      <div id="thankYouMessage" class="hidden" style="text-align:left; 
      background-color: #e8f5e9; color: green;
      text-align: center;">
        Your response has been recorded. Thank you!
      </div>
      
    </div>
  
    <!-- Admin UI -->
    <div id="adminUI" class="hidden">
      <button class="back-button" onclick="goBackToRoleSelect()">‚¨Ö</button>
      <h2>Welcome back, Admin!</h2>
      <h4>Update Tomorrow‚Äôs Menu</h4>
      <label for="adminBreakfast">Breakfast</label>
      <select id="adminBreakfast">
        <option value="">Select Breakfast</option>
        <option value="Puri">Puri</option>
        <option value="Idli">Idli</option>
        <option value="Uthappam">Uthappam</option>
        <option value="Chapati">Chapati</option>
        <option value="Dosa">Dosa</option>
        <option value="Noodles">Noodles</option>
        <option value="Khichidi">Khichidi</option>
      </select>
      <label for="adminLunch">Lunch</label>
      <select id="adminLunch">
        <option value="">Select Lunch</option>
        <option value="Rice and Dal">Rice and Dal</option>
        <option value="Rice + Paneer + Chicken">Rice + Paneer + Chicken</option>
        <option value="Veg Pulav">Veg Pulav</option>
      </select>
      <label for="adminDinner">Dinner Curries</label>
      <select id="adminDinner">
        <option value="">Select Dinner Curry</option>
        <option value="Cabbage">Cabbage</option>
        <option value="Brinjal">Brinjal</option>
        <option value="Bottlegourd">Bottlegourd</option>
        <option value="Chole">Chole</option>
        <option value="Chana">Chana</option>
        <option value="Potato">Potato</option>
        <option value="Egg">Egg</option>
      </select>
      <button onclick="updateMenu()">Update Menu</button>
      <p id="menuUpdateMessage" style="text-align:center; color: #4CAF50; font-weight: bold; display:none;">
        ‚úÖ New menu updated!
      </p>
      <div class="summary-box">
        <h4>Responses Summary</h4>
        <div class="response-counts" id="responseSummary">Loading...</div>
      </div>
    </div>
  </div>


  

</body>
</html>
